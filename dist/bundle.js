!function(){"use strict";let e=document.querySelectorAll("t-ftn"),t=document.querySelector("t-options");var i="true"===t.dataset.hover,n="true"===t.dataset.unhoverdelete;let o=void 0===t.dataset.hoverdelay?0:t.dataset.hoverdelay;function s(){r(this);var e=this.shadowRoot.children[1].style.visibility;this.shadowRoot.children[1].style.visibility="hidden"==e?"visible":"hidden"}function d(){r(),this.shadowRoot.children[1].style.visibility="visible"}function l(){this.shadowRoot.children[1].style.visibility="hidden"}async function c(){setTimeout((()=>{this.shadowRoot.children[1].style.visibility="hidden"}),o)}function r(e){document.querySelectorAll("t-ftn").forEach((t=>{t!==e&&(t.shadowRoot.children[1].style.visibility="hidden")}))}window.addEventListener("click",(e=>r(e.target))),function(){for(let t of e)t.removeEventListener("mouseenter",d),t.removeEventListener("click",l),t.removeEventListener("click",s),t.removeEventListener("mouseout",c),i?(t.addEventListener("mouseenter",d),t.addEventListener("click",l)):t.addEventListener("click",s),n&&t.addEventListener("mouseout",c)}();class h extends HTMLElement{constructor(){super(),this.content=""}connectedCallback(){const e=this.attachShadow({mode:"open"}),t=this.children.item(0);console.log(this.children),t&&t.matches("a[href]")&&(this.content=t.innerText,t.innerText="",this.removeChild(t),e.appendChild(t));const i=document.createElement("aside");i.part="aside",i.style.visibility="hidden",i.classList.add("aside");const n=document.createElement("div");n.part="content";const o=document.createElement("div");o.part="arrow",n.innerText=this.content,i.appendChild(o),i.appendChild(n),e.appendChild(i);const s=n.getBoundingClientRect(),d=document.body.clientWidth;if(console.log(s.x,d),s.x+s.width>d){let e=s.x+s.width-d,t=s.x-e;console.log("o",t),i.style.left=-1*e-10+"px"}s.x<0&&(i.style.left="10px");const l=function(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),o=n.left,s=n.top,d=i.left+i.width/2,l=i.bottom;return Math.hypot(o-d,l-s)}(this,i),c=i.getBoundingClientRect().width,r=l/c*100;console.log(l,o.style,l/c*100),o.style.left=r+"%"}}customElements.define("t-ftn",h)}();
//# sourceMappingURL=bundle.js.map
